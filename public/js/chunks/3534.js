"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[3534],{3534:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});var a=o(8401);const r={auth:function(){return{permission:"taxonomies.create"}},head:{title:function(){return{inner:"Create a Taxonomy"}}},data:function(){return{form:new a.Z({name:"",handle:"",description:"",sidebar:!0,icon:"",route:"",template:"",sections:[]},!0),loading:!1}},components:{"shared-form":o(4825).Z},methods:{submit:function(){var e=this;this.loading=!0,this.form.post("/api/taxonomies").then((function(t){axios.post("/api/blueprints/".concat(t.data.blueprint.id,"/sections"),{sections:e.form.sections}).then((function(t){e.$store.dispatch("navigation/fetchAdminNavigation"),toast("Taxonomy successfully created","success"),e.$router.push("/taxonomies")})).catch((function(t){toast(t.message,"failed"),e.loading=!1}))})).catch((function(t){toast(t.message,"failed"),e.loading=!1}))}}};const n=(0,o(1900).Z)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"taxonomy-page"},[t("portal",{attrs:{to:"title"}},[t("page-title",{attrs:{icon:"sitemap"}},[e._v("Create Taxonomy")])],1),e._v(" "),t("shared-form",{attrs:{form:e.form,loading:e.loading,submit:e.submit}})],1)}),[],!1,null,null,null).exports},4825:(e,t,o)=>{o.d(t,{Z:()=>r});const a={data:function(){return{placements:[{label:"Body",value:"body"},{label:"Sidebar",value:"sidebar"}]}},props:{form:{type:Object,required:!0},taxonomy:{type:Object,required:!1},submit:{required:!0},loading:{type:Boolean,required:!1}},created:function(){this.$store.commit("fieldtypes/setStructure","taxonomies")}};const r=(0,o(1900).Z)(a,(function(){var e=this,t=e._self._c;return t("div",[t("portal",{attrs:{to:"actions"}},[t("div",{staticClass:"buttons"},[t("ui-button",{attrs:{to:{name:"taxonomies"},variant:"secondary"}},[e._v("Go Back")]),e._v(" "),t("ui-button",{attrs:{type:"submit",variant:"primary",disabled:!e.form.hasChanges||e.loading},on:{click:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e._v("Save")])],1)]),e._v(" "),t("section-card",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{title:"Loading..."}}),e._v(" "),t("portal",{attrs:{to:"sidebar-right"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"! loading"}]},[t("sidebar",{attrs:{id:"taxonomy-sidebar"}},[t("sidebar-section",{attrs:{id:"matrix_panel_status",tabindex:"-1"}},[t("icon-picker",{attrs:{name:"icon",label:"Icon",placeholder:"Search icons...",help:"Choose an icon that best represents your taxonomy.","has-error":e.form.errors.has("icon"),"error-message":e.form.errors.get("icon"),required:""},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}}),e._v(" "),t("ui-toggle",{attrs:{name:"sidebar",label:"Show in Sidebar","true-value":!0,"false-value":!1},model:{value:e.form.sidebar,callback:function(t){e.$set(e.form,"sidebar",t)},expression:"form.sidebar"}})],1),e._v(" "),e.taxonomy?t("status-card",{attrs:{entry:e.taxonomy,id:"taxonomy_panel_status_card",tabindex:"-1"}}):e._e()],1)],1)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"! loading"}]},[t("section-card",{attrs:{id:"taxonomy_panel_general",title:"General Information",description:"General information about this taxonomy and what it organizes."}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col w-full lg:w-1/2"},[t("ui-input-group",{attrs:{id:"taxonomy-name",name:"name",label:"Name",help:"What should this taxonomy be called?",autocomplete:"off",autofocus:"",required:"","has-error":e.form.errors.has("name"),"error-message":e.form.errors.get("name")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),t("div",{staticClass:"col w-full lg:w-1/2"},[t("ui-slug-group",{attrs:{id:"taxonomy-handle",name:"handle",label:"Handle",help:"A developer-friendly identifier.",monospaced:"",autocomplete:"off",required:"",delimiter:"_",watch:e.form.name,"has-error":e.form.errors.has("handle"),"error-message":e.form.errors.get("handle")},model:{value:e.form.handle,callback:function(t){e.$set(e.form,"handle",t)},expression:"form.handle"}})],1)]),e._v(" "),t("ui-textarea-group",{attrs:{id:"taxonomy-description",name:"description",label:"Description",help:"Give a short description of what this taxonomy will manage and store.",autocomplete:"off","has-error":e.form.errors.has("description"),"error-message":e.form.errors.get("description")},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("section-card",{attrs:{id:"taxonomy_panel_routing",title:"Routing",description:"Configure how terms within this taxonomy will be accessed on the frontend."}},[t("ui-input-group",{attrs:{id:"taxonomy-route",name:"route",label:"Route",help:"When the URI matches this pattern...",autocomplete:"off",monospaced:"","has-error":e.form.errors.has("route"),"error-message":e.form.errors.get("route")},model:{value:e.form.route,callback:function(t){e.$set(e.form,"route",t)},expression:"form.route"}}),e._v(" "),t("ui-input-group",{attrs:{id:"taxonomy-template",name:"template",label:"Template",help:"Render this template",autocomplete:"off",monospaced:"","has-error":e.form.errors.has("template"),"error-message":e.form.errors.get("template")},model:{value:e.form.template,callback:function(t){e.$set(e.form,"template",t)},expression:"form.template"}})],1),e._v(" "),t("section-card",{attrs:{id:"taxonomy_panel_blueprint",grid:!1,title:"Blueprint",description:"Create the content blueprint for this taxonomy by adding panel sections and fields to either the page body or page sidebar.",tabindex:"-1"}},[t("blueprint",{attrs:{placements:e.placements,form:e.form}})],1)],1)],1)}),[],!1,null,null,null).exports}}]);