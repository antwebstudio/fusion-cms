(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{BYpF:function(e,t,i){"use strict";i.r(t);function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var n={name:"file-fieldtype",mixins:[i("Huo5").default,i("n7tU").default],data:function(){return{files:[]}},props:{field:{type:Object,required:!0},value:{required:!1,default:function(){return[]}}},computed:{multiple:function(){return _.defaultTo(this.field.settings.multiple,!1)},accept:function(){return _.defaultTo(this.field.settings.accept,"")},required:function(){return String(this.field.validation).includes("required")},formattedId:function(){return this.field.handle+"_field"}},methods:{onChange:function(e){var t=e.target.files;0==t.length?this.$emit("input",this.files):this.$emit("input",t)}},mounted:function(){_.isArray(this.value)&&(this.files=r(this.value))}},s=i("KHd+"),a=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field"},[i("p-field-group",{attrs:{name:e.field.handle,fieldId:e.formattedId,label:e.field.name,hasError:e.hasError,errorMessage:e.errorMessage}},[i("input",{attrs:{type:"file",id:e.field.handle,name:e.field.handle+"[]",accept:e.accept,multiple:e.multiple,required:e.required},on:{input:e.onChange}}),e._v(" "),e.field.help?i("div",{staticClass:"form__control--meta"},[i("div",{staticClass:"form__help"},[i("span",{staticClass:"field__help",domProps:{innerHTML:e._s(e.field.help)}})])]):e._e(),e._v(" "),e.files.length?i("div",{staticClass:"bg-white shadow rounded-md mt-2"},[i("ul",e._l(e.files,(function(t,r){return i("li",{key:"file."+r},[i("div",{staticClass:"p-2 sm:px-4"},[i("div",{staticClass:"flex items-center justify-between"},["image"==t.type?i("img",{staticClass:"upload__file--preview max-w-12",attrs:{src:t.url,alt:t.name}}):i("img",{staticClass:"upload__file--preview max-w-12",attrs:{src:"/vendor/fusion/img/"+t.type+"-large.svg",alt:t.name}}),e._v(" "),i("div",{staticClass:"upload__file--name",domProps:{textContent:e._s(t.name)}}),e._v(" "),i("div",{staticClass:"upload__file--size",domProps:{textContent:e._s(e.filesize(t.bytes))}})])])])})),0)]):e._e(),e._v(" "),e.files.length?i("div",{staticClass:"rounded-md shadow bg-yellow-100 p-2 mt-2"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"flex-shrink-0"},[i("svg",{staticClass:"h-5 w-5 text-yellow-400",attrs:{viewBox:"0 0 20 20",fill:"currentColor"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"}})])]),e._v(" "),i("div",{staticClass:"px-2"},[i("div",{staticClass:"text-sm leading-5 text-yellow-700"},[e._v("\n            \t\t\tUploading new files will clear existing files.\n            \t\t")])])])]):e._e()])],1)}),[],!1,null,null,null);t.default=a.exports},n7tU:function(e,t,i){"use strict";i.r(t),t.default={props:{field:{type:Object,required:!0},value:{required:!1,default:null},errors:{type:Object,required:!1,default:function(){}}},computed:{hasError:function(){return this.errors&&this.errors.has(this.field.handle)},errorMessage:function(){return this.errors?this.errors.get(this.field.handle):""}}}}}]);