(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"+E6B":function(t,e,i){"use strict";i.r(e);var a=i("zwY0"),l=i.n(a),n={name:"datetime-fieldtype",data:function(){return{datetime:"",flatpickr:null}},props:{field:{type:Object,required:!0},value:{required:!1,default:null}},methods:{emitEvent:function(t,e,i){this.$emit("input",this.format(e,i))},format:function(t,e){if(""!=t){var i=e.parseDate(t);return e.formatDate(i,"Y-m-d H:i:S")}return null},adjustTimezone:function(t){var e=(new Date).getTimezoneOffset(),i=new Date(this.datetime);return i=new Date(i.getTime()+6e4*e)}},mounted:function(){if(this.datetime=this.value,this.flatpickr=l()("#flatpickr_"+this.field.handle,{altInput:!0,enableTime:this.field.settings.time,altFormat:this.field.settings.format||"Y-m-d",minuteIncrement:1,allowInput:!1,clickOpens:!0,defaultDate:this.value,onChange:this.emitEvent}),this.value){if(this.field.settings.adjuste_date||null==this.field.settings.adjuste_date)this.adjustTimezone(this.datetime);else this.datetime;var t=this.format(adjustedDate,this.flatpickr);this.flatpickr.setDate(t),this.emitEvent(null,this.flatpickr.latestSelectedDateObj,this.flatpickr)}}},s=i("KHd+"),r=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form__group"},[i("label",{staticClass:"form__label",attrs:{for:t.field.handle}},[t._v(t._s(t.field.name))]),t._v(" "),i("div",{staticClass:"form__datetime"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.datetime,expression:"datetime"}],staticClass:"w-full focus:outline-none",attrs:{id:"flatpickr_"+t.field.handle,name:t.field.handle,help:t.field.help,placeholder:t.field.settings.placeholder},domProps:{value:t.datetime},on:{input:function(e){e.target.composing||(t.datetime=e.target.value)}}}),t._v(" "),i("a",{staticClass:"form__datetime--icon",attrs:{href:"#",title:"Select date"},on:{click:function(e){return t.flatpickr.open()}}},[i("fa-icon",{attrs:{icon:"calendar-alt"}})],1)]),t._v(" "),t.datetime?i("a",{staticClass:"datetime__clear text-sm pl-1",attrs:{href:"#",title:"Clear date"},on:{click:function(e){return e.preventDefault(),t.flatpickr.clear()}}},[t._v("\n    Clear date\n  ")]):t._e(),t._v(" "),t.field.help?i("div",{staticClass:"form__control--meta"},[i("div",{staticClass:"form__help"},[i("span",{domProps:{innerHTML:t._s(t.field.help)}})])]):t._e()])}),[],!1,null,null,null);e.default=r.exports}}]);