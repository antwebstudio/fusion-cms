"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[9535],{9535:(e,r,o)=>{o.r(r),o.d(r,{default:()=>i});var t=o(3802),n={class:"disk-page"};var a=o(8401);const l={auth:function(){return{permission:"disks.create"}},head:{title:function(){return{inner:"Create Disk"}}},data:function(){return{form:new a.Z({name:"",handle:"",driver:"local",configurations:{}},!0),loading:!1}},components:{"shared-form":o(2112).Z},methods:{submit:function(){var e=this;this.loading=!0,this.form.post("/api/disks").then((function(r){toast("Disk successfully saved","success"),e.$router.push("/disks")})).catch((function(r){toast(r.message,"failed"),e.loading=!1}))}}};const i=(0,o(3744).Z)(l,[["render",function(e,r,o,a,l,i){var s=(0,t.resolveComponent)("page-title"),d=(0,t.resolveComponent)("portal"),u=(0,t.resolveComponent)("shared-form");return(0,t.openBlock)(),(0,t.createElementBlock)("div",n,[(0,t.createVNode)(d,{to:"title"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(s,{icon:"hdd"},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)("Create Disk")]}),void 0,!0),_:1})]}),void 0,!0),_:1}),(0,t.createVNode)(u,{loading:l.loading,form:l.form},null,8,["loading","form"])])}]])},2112:(e,r,o)=>{o.d(r,{Z:()=>i});var t=o(3802),n={class:"buttons"},a={class:"row"};const l={data:function(){return{driverOptions:[{label:"Local",value:"local"},{label:"S3",value:"s3"},{label:"FTP",value:"ftp"},{label:"SFTP",value:"sftp"}]}},props:{form:{type:Object,required:!0},loading:{type:Boolean,required:!1}}};const i=(0,o(3744).Z)(l,[["render",function(e,r,o,l,i,s){var d=(0,t.resolveComponent)("ui-button"),u=(0,t.resolveComponent)("portal"),c=(0,t.resolveComponent)("section-card"),m=(0,t.resolveComponent)("ui-input-group"),f=(0,t.resolveComponent)("ui-slug-group"),p=(0,t.resolveComponent)("ui-select-group");return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[(0,t.createVNode)(u,{to:"actions"},{default:(0,t.withCtx)((function(){return[(0,t.createElementVNode)("div",n,[(0,t.createVNode)(d,{to:{name:"disks"},variant:"secondary"},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)("Go Back")]}),void 0,!0),_:1}),(0,t.createVNode)(d,{type:"submit",onClick:(0,t.withModifiers)(e.$parent.submit,["prevent"]),variant:"primary",disabled:!o.form.hasChanges||o.loading},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)("Save")]}),void 0,!0),_:1},8,["onClick","disabled"])])]}),void 0,!0),_:1}),(0,t.withDirectives)((0,t.createVNode)(c,{title:"Loading..."},null,512),[[t.vShow,o.loading]]),(0,t.withDirectives)((0,t.createElementVNode)("div",null,[(0,t.createVNode)(c,{id:"disk_panel_general",title:"General Information",description:"General information about your filesystem disk and what it manages.",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createElementVNode)("div",a,[(0,t.createVNode)(m,{class:"col w-full lg:w-1/2",id:"disk-name",name:"name",label:"Name",help:"What should this filesystem disk be called?",autocomplete:"off",autofocus:"",required:"","has-error":o.form.errors.has("name"),"error-message":o.form.errors.get("name"),modelValue:o.form.name,"onUpdate:modelValue":r[0]||(r[0]=function(e){return o.form.name=e})},null,8,["has-error","error-message","modelValue"]),(0,t.createVNode)(f,{class:"col w-full lg:w-1/2",id:"disk-handle",name:"handle",label:"Handle",help:"Disk identifier (doubles as handle).",monospaced:"",autocomplete:"off",required:"",delimiter:"_",watch:o.form.name,"has-error":o.form.errors.has("handle"),"error-message":o.form.errors.get("handle"),modelValue:o.form.handle,"onUpdate:modelValue":r[1]||(r[1]=function(e){return o.form.handle=e})},null,8,["watch","has-error","error-message","modelValue"]),(0,t.createVNode)(p,{class:"col w-full lg:w-1/2",id:"disk-driver",name:"driver",label:"Driver",help:"Select and configure your driver.",options:i.driverOptions,"has-error":o.form.errors.has("driver"),"error-message":o.form.errors.get("driver"),modelValue:o.form.driver,"onUpdate:modelValue":r[2]||(r[2]=function(e){return o.form.driver=e})},null,8,["options","has-error","error-message","modelValue"])])]}),void 0,!0),_:1}),((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)("disks-configurations-".concat(o.form.driver)),{key:"disk-configurations",errors:o.form.errors,modelValue:o.form.configurations,"onUpdate:modelValue":r[3]||(r[3]=function(e){return o.form.configurations=e})},null,8,["errors","modelValue"]))],512),[[t.vShow,!o.loading]])])}]])}}]);