"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[1501],{2945:(e,t,o)=>{o.d(t,{Z:()=>n});const n={props:{field:{type:Object,required:!0},value:{required:!1,default:null},errors:{type:Object,required:!1,default:function(){}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{hasError:function(e){return this.errors&&this.errors.has(e)},errorMessage:function(e){return this.hasError(e)?this.errors.get(e):""}}}},1501:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var n=o(3802),r={class:"input-group"},i=(0,n.createElementVNode)("span",{class:"sr-only"},"Choose an existing audio file",-1),l=(0,n.createElementVNode)("span",{class:"sr-only"},"Clear field",-1),a=["src"],d={class:"help"},s={class:"help"};var c=o(2945),u=o(8273);const m={name:"audio-fieldtype",mixins:[c.Z,u.Z],data:function(){return{endpoint:"/datatable/files/audio"}},methods:{clear:function(){this.model=""}}};const f=(0,o(3744).Z)(m,[["render",function(e,t,o,c,u,m){var f=(0,n.resolveComponent)("ui-input"),p=(0,n.resolveComponent)("fa-icon"),h=(0,n.resolveComponent)("ui-button"),v=(0,n.resolveComponent)("ui-field-group"),C=(0,n.resolveComponent)("ui-radio"),V=(0,n.resolveComponent)("ui-date"),b=(0,n.resolveComponent)("ui-table"),N=(0,n.resolveComponent)("ui-modal"),x=(0,n.resolveDirective)("modal");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(v,{name:e.field.handle,fieldId:"".concat(e.field.handle,"-field"),label:e.field.name,help:e.field.help,hasError:e.hasError(e.field.handle),errorMessage:e.errorMessage(e.field.handle)},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",r,[(0,n.createVNode)(f,{class:"field-input field",id:e.field.handle,name:e.field.handle,help:e.field.help,"aria-describedby":e.field.help,hasError:e.hasError(e.field.handle),modelValue:e.model,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.model=t})},null,8,["id","name","help","aria-describedby","hasError","modelValue"]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(h,{icon:""},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(p,{icon:["fas","plus-circle"]}),i]}),void 0,!0),_:1})),[[x,void 0,"selection-modal"]]),(0,n.createVNode)(h,{icon:"",onClick:m.clear},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(p,{icon:["fas","times"],class:"mr-1"}),l]}),void 0,!0),_:1},8,["onClick"])])]}),void 0,!0),_:1},8,["name","fieldId","label","help","hasError","errorMessage"]),e.model?((0,n.openBlock)(),(0,n.createElementBlock)("audio",{key:0,controls:"",src:e.model},null,8,a)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(N,{name:"selection-modal",title:"Choose an existing audio file"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(b,{endpoint:u.endpoint,id:"audio-files","sort-by":"name","sort-in":"desc","per-page":10},{name:(0,n.withCtx)((function(o){return[(0,n.createVNode)(C,{id:"selection-".concat(o.record.id),name:"selection","native-value":o.record.url,modelValue:e.model,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.model=t})},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(o.record.name),1)]}),void 0,!0),_:2},1032,["id","native-value","modelValue"])]})),bytes:(0,n.withCtx)((function(t){return[(0,n.createElementVNode)("span",d,(0,n.toDisplayString)(t.record.bytes|e.bytes),1)]})),extension:(0,n.withCtx)((function(e){return[(0,n.createElementVNode)("span",s,(0,n.toDisplayString)(e.record.extension),1)]})),created_at:(0,n.withCtx)((function(e){return[(0,n.createVNode)(V,{timestamp:e.record.created_at},null,8,["timestamp"])]})),_:1},8,["endpoint"])]}),void 0,!0),_:1})])}]])}}]);