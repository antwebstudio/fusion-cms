"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[9523],{9523:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d,getSettings:()=>u});var o=n(3802),r={key:0,class:"buttons"},a={class:"row"},i={class:"col w-full"};var s=n(8401);const c={auth:function(){return{permission:"settings.update"}},head:{title:function(){return{inner:this.group.name+" Settings"||0}}},data:function(){return{group:{},form:null}},components:{"shared-form":n(4575).Z},methods:{submit:function(){this.form.patch("/api/settings/".concat(this.group.handle)).then((function(e){toast("Settings saved successfully","success")})).catch((function(e){toast(e.response.data.message,"failed")}))}},beforeRouteEnter:function(e,t,n){u(e.params.group,(function(e,t){n(e?function(t){t.$router.push("/settings"),toast(e.toString(),"danger")}:function(e){e.group=t,e.form=new s.Z(t.settings),e.$emit("updateHead")})}))}};function u(e,t){axios.get("/api/settings/".concat(e)).then((function(e){t(null,e.data.data)})).catch((function(e){t(new Error("The requested settings could not be found"))}))}const d=(0,n(3744).Z)(c,[["render",function(e,t,n,s,c,u){var d=(0,o.resolveComponent)("page-title"),l=(0,o.resolveComponent)("portal"),f=(0,o.resolveComponent)("ui-button"),m=(0,o.resolveComponent)("shared-form");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(l,{to:"title"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(d,{icon:"cog"},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(c.group.name)+" Settings",1)]}),void 0,!0),_:1})]}),void 0,!0),_:1}),(0,o.createVNode)(l,{name:"actions",to:"actions"},{default:(0,o.withCtx)((function(){return[c.form?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(f,{to:{name:"settings"},variant:"secondary"},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Go Back")]}),void 0,!0),_:1}),(0,o.createVNode)(f,{type:"submit",onClick:(0,o.withModifiers)(u.submit,["prevent"]),variant:"primary",disabled:!c.form.hasChanges},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Save")]}),void 0,!0),_:1},8,["onClick","disabled"])])):(0,o.createCommentVNode)("",!0)]}),void 0,!0),_:1}),(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[c.form?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,form:c.form,group:c.group},null,8,["form","group"])):(0,o.createCommentVNode)("",!0)])])])}]])}}]);