"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[616],{2945:(e,t,r)=>{r.d(t,{Z:()=>n});const n={props:{field:{type:Object,required:!0},value:{required:!1,default:null},errors:{type:Object,required:!1,default:function(){}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{hasError:function(e){return this.errors&&this.errors.has(e)},errorMessage:function(e){return this.hasError(e)?this.errors.get(e):""}}}},616:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var n=r(3361);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const o={name:"fieldset-fieldtype",mixins:[r(2945).Z],data:function(){return{fieldset:{}}},computed:{fieldErrors:function(){for(var e={},t=0,r=Object.entries(this.errors.errors);t<r.length;t++){var l=i(r[t],2),o=l[0],u=l[1];e[o.replace("".concat(this.field.handle,"."),"")]=u}return new n.Z(e)}},watch:{model:{deep:!0,handler:function(e){this.$emit("input",e)}}},created:function(){var e=this;axios.get("/api/fieldsets/".concat(this.field.settings.fieldset)).then((function(t){return e.fieldset=t.data.data}))}};var u=(0,r(1900).Z)(o,(function(){var e=this,t=e._self._c;return t("ui-fieldset",{attrs:{label:e.field.name,help:e.field.help}},e._l(e.fieldset.fields,(function(r){return t(r.type.id+"-fieldtype",{key:r.handle,tag:"component",attrs:{field:r,errors:e.fieldErrors},model:{value:e.model[r.handle],callback:function(t){e.$set(e.model,r.handle,t)},expression:"model[field.handle]"}})})),1)}),[],!1,null,null,null);const a=u.exports}}]);