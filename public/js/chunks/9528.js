"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[9528],{9528:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(3802),i={class:"disk-page"},r={key:1},d=(0,n.createElementVNode)("p",null,"Are you sure you want to permenantly delete this disk?",-1);const a={auth:function(){return{permission:"disks.viewAny"}},head:{title:function(){return{inner:"Disks"}}},data:function(){return{endpoint:"/datatable/disks"}},methods:{isLocked:function(e){return _.includes(["public","local"],e)},destroy:function(e){axios.delete("/api/disks/".concat(e)).then((function(e){toast("Disk successfully deleted.","success"),bus().$emit("refresh-datatable-disks")}))}}};const c=(0,o(3744).Z)(a,[["render",function(e,t,o,a,c,s){var l=(0,n.resolveComponent)("page-title"),u=(0,n.resolveComponent)("portal"),k=(0,n.resolveComponent)("ui-button"),f=(0,n.resolveComponent)("router-link"),p=(0,n.resolveComponent)("ui-dropdown-link"),v=(0,n.resolveComponent)("ui-dropdown-divider"),m=(0,n.resolveComponent)("ui-table-actions"),h=(0,n.resolveComponent)("ui-table"),C=(0,n.resolveComponent)("ui-card-body"),w=(0,n.resolveComponent)("ui-card"),x=(0,n.resolveComponent)("ui-modal"),_=(0,n.resolveDirective)("modal");return(0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createVNode)(u,{to:"title"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(l,{icon:"hdd"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Disks")]}),void 0,!0),_:1})]}),void 0,!0),_:1}),(0,n.createVNode)(u,{to:"actions"},{default:(0,n.withCtx)((function(){return[e.$can("disks.create")?((0,n.openBlock)(),(0,n.createBlock)(k,{key:"create-disk-btn",to:{name:"disks.create"},variant:"primary"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Create Disk")]}),void 0,!0),_:1},8,["to"])):(0,n.createCommentVNode)("",!0)]}),void 0,!0),_:1}),(0,n.createVNode)(w,null,{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(C,null,{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(h,{id:"disks","sort-by":"order","primary-key":"handle",key:"disks_table",link_name:"disks.edit",link_param:"disk",reorder_route:"/api/disks/reorder",show_status:!1,endpoint:c.endpoint},{name:(0,n.withCtx)((function(e){return[s.isLocked(e.record.handle)?((0,n.openBlock)(),(0,n.createElementBlock)("span",r,(0,n.toDisplayString)(e.record.name),1)):((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,to:{name:"disks.edit",params:{disk:e.record.id}}},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.record.name),1)]}),void 0,!0),_:2},1032,["to"]))]})),handle:(0,n.withCtx)((function(e){return[(0,n.createElementVNode)("code",null,(0,n.toDisplayString)(e.record.handle),1)]})),driver:(0,n.withCtx)((function(e){return[(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)(e.record.driver),1)]})),actions:(0,n.withCtx)((function(e){return[((0,n.openBlock)(),(0,n.createBlock)(m,{disabled:s.isLocked(e.record.handle),id:"disks_"+e.record.id+"_actions",key:"disks_"+e.record.id+"_actions"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(p,{to:{name:"disks.edit",params:{disk:e.record.id}}},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Edit ")]}),void 0,!0),_:2},1032,["to"]),(0,n.createVNode)(v),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(p,{onClick:t[0]||(t[0]=(0,n.withModifiers)((function(){}),["prevent"])),class:"danger"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Delete ")]}),void 0,!0),_:2},1024)),[[_,e.record,"delete-disk"]])]}),void 0,!0),_:2},1032,["disabled","id"]))]})),_:1},8,["endpoint"])]}),void 0,!0),_:1})]}),void 0,!0),_:1}),(0,n.createVNode)(u,{to:"modals"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(x,{name:"delete-disk",title:"Delete Disk",key:"delete_disk"},{footer:(0,n.withCtx)((function(e){return[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(k,{onClick:function(t){return s.destroy(e.data.id)},variant:"danger",class:"ml-3"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Delete")]}),void 0,!0),_:2},1032,["onClick"])),[[_,void 0,"delete-disk"]]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(k,null,{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Cancel")]}),void 0,!0),_:1})),[[_,void 0,"delete-disk"]])]})),default:(0,n.withCtx)((function(){return[d]}),void 0,!0),_:1})]}),void 0,!0),_:1})])}]])}}]);