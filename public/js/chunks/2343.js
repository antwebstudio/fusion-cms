"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[2343],{2343:(e,o,t)=>{t.r(o),t.d(o,{default:()=>l});var n=t(3802),a={class:"navigation-page"};var r=t(8401);const i={auth:function(){return{permission:"navigation.create"}},head:{title:function(){return{inner:"Create Navigation"}}},data:function(){return{form:new r.Z({name:"",handle:"",description:"",sections:[]},!0),loading:!1}},components:{"shared-form":t(2031).Z},methods:{submit:function(){var e=this;this.loading=!0,this.form.post("/api/navigation").then((function(o){axios.post("/api/blueprints/".concat(o.data.blueprint.id,"/sections"),{sections:e.form.sections}).then((function(o){toast("Navigation successfully saved","success"),e.$router.push("/navigation"),e.loading=!1})).catch((function(o){toast(o.message,"failed"),e.loading=!1}))})).catch((function(o){toast(o.message,"failed"),e.loading=!1}))}}};const l=(0,t(3744).Z)(i,[["render",function(e,o,t,r,i,l){var s=(0,n.resolveComponent)("page-title"),d=(0,n.resolveComponent)("portal"),c=(0,n.resolveComponent)("shared-form");return(0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createVNode)(d,{to:"title"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{icon:"anchor"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Create Navigation")]}),void 0,!0),_:1})]}),void 0,!0),_:1}),(0,n.createVNode)(c,{loading:i.loading,form:i.form},null,8,["loading","form"])])}]])},2031:(e,o,t)=>{t.d(o,{Z:()=>d});var n=t(3802),a={class:"buttons"},r={class:"row"},i={class:"col w-full lg:w-1/2"},l={class:"col w-full lg:w-1/2"};const s={data:function(){return{placements:[{label:"Body",value:"body"},{label:"Sidebar",value:"sidebar"}]}},props:{resource:{type:Object,required:!1,default:function(){}},form:{type:Object,required:!0},loading:{type:Boolean,required:!1}},methods:{handleSave:function(){this.$parent.submit()}},created:function(){this.$store.commit("fieldtypes/setStructure","navigation")}};const d=(0,t(3744).Z)(s,[["render",function(e,o,t,s,d,c){var u=(0,n.resolveComponent)("ui-button"),m=(0,n.resolveComponent)("portal"),f=(0,n.resolveComponent)("section-card"),p=(0,n.resolveComponent)("ui-input-group"),h=(0,n.resolveComponent)("ui-slug-group"),v=(0,n.resolveComponent)("ui-textarea-group"),g=(0,n.resolveComponent)("blueprint");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(m,{to:"actions"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",a,[(0,n.createVNode)(u,{to:{name:"navigation"},variant:"secondary"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Go Back")]}),void 0,!0),_:1}),(0,n.createVNode)(u,{type:"submit",onClick:(0,n.withModifiers)(c.handleSave,["prevent"]),variant:"primary",disabled:!t.form.hasChanges||t.loading},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Save")]}),void 0,!0),_:1},8,["onClick","disabled"])])]}),void 0,!0),_:1}),(0,n.withDirectives)((0,n.createVNode)(f,{title:"Loading..."},null,512),[[n.vShow,t.loading]]),(0,n.withDirectives)((0,n.createElementVNode)("div",null,[(0,n.createVNode)(f,{id:"navigation_panel_general",title:"General Information",description:"General information about your navigation menu and what it manages.",tabindex:"-1"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("div",i,[(0,n.createVNode)(p,{id:"navigation-name",name:"name",label:"Name",help:"What should this navigation menu be called?",autocomplete:"off",autofocus:"",required:"","has-error":t.form.errors.has("name"),"error-message":t.form.errors.get("name"),modelValue:t.form.name,"onUpdate:modelValue":o[0]||(o[0]=function(e){return t.form.name=e})},null,8,["has-error","error-message","modelValue"])]),(0,n.createElementVNode)("div",l,[(0,n.createVNode)(h,{id:"navigation-handle",name:"handle",label:"Handle",help:"A developer-friendly identifier.",monospaced:"",autocomplete:"off",required:"",delimiter:"_",watch:t.form.name,"has-error":t.form.errors.has("handle"),"error-message":t.form.errors.get("handle"),modelValue:t.form.handle,"onUpdate:modelValue":o[1]||(o[1]=function(e){return t.form.handle=e})},null,8,["watch","has-error","error-message","modelValue"])])]),(0,n.createVNode)(v,{id:"navigation-description",name:"description",label:"Description",help:"Give a short description of what this navigation menu will manage and store.",autocomplete:"off","has-error":t.form.errors.has("description"),"error-message":t.form.errors.get("description"),modelValue:t.form.description,"onUpdate:modelValue":o[2]||(o[2]=function(e){return t.form.description=e})},null,8,["has-error","error-message","modelValue"])]}),void 0,!0),_:1}),(0,n.createVNode)(f,{title:"Blueprint",description:"Configure this navigation's blueprint."},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(g,{placements:d.placements,form:t.form},null,8,["placements","form"])]}),void 0,!0),_:1})],512),[[n.vShow,!t.loading]])])}]])}}]);