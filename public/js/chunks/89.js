"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[89],{2945:(e,t,l)=>{l.d(t,{Z:()=>n});const n={props:{field:{type:Object,required:!0},value:{required:!1,default:null},errors:{type:Object,required:!1,default:function(){}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{hasError:function(e){return this.errors&&this.errors.has(e)},errorMessage:function(e){return this.hasError(e)?this.errors.get(e):""}}}},89:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var n=l(3802),r={class:"flex items-center justify-between"},o=["id","name","accept","multiple"],a={class:"table"},i=["src","alt"],c=["src","alt"],s={class:"help"},d={key:0,class:"rounded-md shadow bg-yellow-100 p-2 mt-2"},u=[(0,n.createElementVNode)("div",{class:"flex"},[(0,n.createElementVNode)("div",{class:"flex-shrink-0"},[(0,n.createElementVNode)("svg",{class:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),(0,n.createElementVNode)("div",{class:"px-2"},[(0,n.createElementVNode)("div",{class:"text-sm leading-5 text-yellow-700"}," Uploading new files will clear existing files. ")])],-1)];var m=l(2945),f=l(8273);const p={name:"file-fieldtype",mixins:[m.Z,f.Z],computed:{multiple:function(){return _.defaultTo(this.field.settings.multiple,!1)},accept:function(){return _.defaultTo(this.field.settings.accept,"")}},methods:{onChange:function(e){this.$emit("input",e.target.files)},clear:function(){this.$refs.upload.value="",this.model=[]}},mounted:function(){_.isEmpty(this.value)&&(this.model=[])}};const h=(0,l(3744).Z)(p,[["render",function(e,t,l,m,f,p){var h=(0,n.resolveComponent)("fa-icon"),g=(0,n.resolveComponent)("ui-button"),E=(0,n.resolveComponent)("ui-field-group");return(0,n.openBlock)(),(0,n.createBlock)(E,{name:e.field.handle,fieldId:"".concat(e.field.handle,"-field"),label:e.field.name,help:e.field.help,hasError:e.hasError(e.field.handle),errorMessage:e.errorMessage(e.field.handle)},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("input",{ref:"upload",type:"file",id:e.field.handle,name:"".concat(e.field.handle,"[]"),accept:p.accept,multiple:p.multiple,onInput:t[0]||(t[0]=function(){return p.onChange&&p.onChange.apply(p,arguments)})},null,40,o),(0,n.createVNode)(g,{onClick:p.clear},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(h,{icon:["fas","times-circle"]}),(0,n.createTextVNode)(" Clear ")]}),void 0,!0),_:1},8,["onClick"])]),(0,n.createElementVNode)("table",a,[(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.model,(function(t,l){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:"file-".concat(l)},[(0,n.createElementVNode)("td",null,["image"==t.type?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,src:t.url,alt:t.name},null,8,i)):((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:1,src:"/vendor/fusion/img/"+e.filetype(t.type)+"-small.svg",alt:t.name},null,8,c))]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("span",s,(0,n.toDisplayString)(t.name),1)]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("code",null,(0,n.toDisplayString)(e.filesize(t.size|t.bytes)),1)])])})),128))])]),e.model.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",d,u)):(0,n.createCommentVNode)("",!0)]}),void 0,!0),_:1},8,["name","fieldId","label","help","hasError","errorMessage"])}]])}}]);