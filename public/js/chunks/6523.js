"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[6523],{6523:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var l=a(3802),o={key:0,class:"row"},n={class:"col w-full"},r={class:"card"},c={key:0,class:"card__body text-center"},s={key:1,class:"row"},i={class:"col w-full"},d={class:"card"},m={key:0,class:"card__body text-center"},u={key:3,class:"row"},V={class:"col w-full md:w-1/2 mb-6"},p={class:"table__wrapper"},N=(0,l.createElementVNode)("div",{class:"card__header"},[(0,l.createElementVNode)("h3",{class:"card__title"},"Popular Pages")],-1),E={class:"table"},f=(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",null,"Page"),(0,l.createElementVNode)("th",{class:"w-10"}),(0,l.createElementVNode)("th",{class:"column__stat"},"Views")])],-1),k=(0,l.createElementVNode)("span",{class:"column__label"},"Page",-1),g={class:"column__stat actions"},h=["href"],w={class:"column__stat"},b=(0,l.createElementVNode)("span",{class:"column__label"},"Views",-1),v={class:"col w-full md:w-1/2 mb-6"},B={class:"table__wrapper"},y=(0,l.createElementVNode)("div",{class:"card__header"},[(0,l.createElementVNode)("h3",{class:"card__title"},"Browsers")],-1),x={class:"table"},C=(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",null,"Browser"),(0,l.createElementVNode)("th",{class:"column__stat"},"Sessions")])],-1),S=(0,l.createElementVNode)("span",{class:"column__label"},"Browser",-1),I={class:"text-gray-800 hover:text-gray-900 mr-2"},T={class:"column__stat"},D=(0,l.createElementVNode)("span",{class:"column__label"},"Sessions",-1);a(8);const P={head:{title:function(){return{inner:"Insight"}}},data:function(){return{isValid:null,popular:[],browsers:[]}},methods:{determineBrowserIcon:function(e){return{"Android Webview":"android",Chrome:"chrome",Edge:"edge",Firefox:"firefox","Internet Explorer":"internet-explorer",Opera:"opera",Safari:"safari"}[e]||"default"}},mounted:function(){var e=this;axios.get("/api/insights/check").then((function(t){e.isValid="OK"===t.data.status,e.isValid&&axios.all([axios.get("/api/insights/popular"),axios.get("/api/insights/browsers")]).then(axios.spread((function(t,a){e.popular=t.data.data,e.browsers=_.map(a.data.data,(function(t){return{browser:t.browser,sessions:t.sessions,icon:e.determineBrowserIcon(t.browser)}}))}))).catch((function(e){toast(e.data.message,"failed")}))}))}};const F=(0,a(3744).Z)(P,[["render",function(e,t,a,_,P,F){var L=(0,l.resolveComponent)("page-title"),A=(0,l.resolveComponent)("portal"),G=(0,l.resolveComponent)("fa-icon"),O=(0,l.resolveComponent)("ui-button"),j=(0,l.resolveComponent)("analytics-overview");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(A,{to:"title"},{default:(0,l.withCtx)((function(){return[(0,l.createVNode)(L,{icon:"chart-bar"},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Insight")]}),void 0,!0),_:1})]}),void 0,!0),_:1}),null===P.isValid?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",r,[null===P.isValid?((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createVNode)(G,{icon:["fas","circle-notch"],class:"fa-spin mr-3"}),(0,l.createTextVNode)(" Loading overview... ")])):(0,l.createCommentVNode)("",!0)])])])):(0,l.createCommentVNode)("",!0),!1===P.isValid?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[!1===P.isValid?((0,l.openBlock)(),(0,l.createElementBlock)("div",m,[(0,l.createElementVNode)("p",null,[(0,l.createTextVNode)("Configure your Google Analytic settings to gain insight about your website "),(0,l.createVNode)(G,{class:"text-emoji",icon:["fas","hand-peace"]})]),(0,l.createVNode)(O,{class:"items-center mr-2",to:"/settings/google_analytics#insights"},{default:(0,l.withCtx)((function(){return[(0,l.createVNode)(G,{icon:["fas","cog"]}),(0,l.createTextVNode)(" Go to settings")]}),void 0,!0),_:1})])):(0,l.createCommentVNode)("",!0)])])])):(0,l.createCommentVNode)("",!0),P.isValid?((0,l.openBlock)(),(0,l.createBlock)(j,{key:2})):(0,l.createCommentVNode)("",!0),P.isValid?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,[(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",p,[N,(0,l.createElementVNode)("table",E,[f,(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(P.popular,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:e.url},[(0,l.createElementVNode)("td",null,[k,(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.url),1)]),(0,l.createElementVNode)("td",g,[(0,l.createElementVNode)("a",{href:e.url,class:"text-gray-800 hover:text-gray-900 mr-4",target:"_blank"},[(0,l.createVNode)(G,{icon:["fas","arrow-alt-circle-right"]})],8,h)]),(0,l.createElementVNode)("td",w,[b,(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.pageViews),1)])])})),128))])])])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",B,[y,(0,l.createElementVNode)("table",x,[C,(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(P.browsers,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:e.browser},[(0,l.createElementVNode)("td",null,[S,(0,l.createElementVNode)("span",null,[(0,l.createElementVNode)("span",I,["default"==e.icon?((0,l.openBlock)(),(0,l.createBlock)(G,{key:0,icon:["fas","globe"],class:"fa-fw"})):((0,l.openBlock)(),(0,l.createBlock)(G,{key:1,icon:["fab",e.icon],class:"fa-fw"},null,8,["icon"]))]),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(e.browser),1)])]),(0,l.createElementVNode)("td",T,[D,(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.sessions),1)])])})),128))])])])])])):(0,l.createCommentVNode)("",!0)])}]])}}]);