(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[2376],{3450:function(e){e.exports=function(){var e=[],r=[],o={},t={},a={};function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function n(e,r){return e===r?r:e===e.toLowerCase()?r.toLowerCase():e===e.toUpperCase()?r.toUpperCase():e[0]===e[0].toUpperCase()?r.charAt(0).toUpperCase()+r.substr(1).toLowerCase():r.toLowerCase()}function s(e,r){return e.replace(/\$(\d{1,2})/g,(function(e,o){return r[o]||""}))}function l(e,r){return e.replace(r[0],(function(o,t){var a=s(r[1],arguments);return n(""===o?e[t-1]:o,a)}))}function u(e,r,t){if(!e.length||o.hasOwnProperty(e))return r;for(var a=t.length;a--;){var i=t[a];if(i[0].test(r))return l(r,i)}return r}function m(e,r,o){return function(t){var a=t.toLowerCase();return r.hasOwnProperty(a)?n(t,a):e.hasOwnProperty(a)?n(t,e[a]):u(a,t,o)}}function d(e,r,o,t){return function(t){var a=t.toLowerCase();return!!r.hasOwnProperty(a)||!e.hasOwnProperty(a)&&u(a,a,o)===a}}function c(e,r,o){return(o?r+" ":"")+(1===r?c.singular(e):c.plural(e))}return c.plural=m(a,t,e),c.isPlural=d(a,t,e),c.singular=m(t,a,r),c.isSingular=d(t,a,r),c.addPluralRule=function(r,o){e.push([i(r),o])},c.addSingularRule=function(e,o){r.push([i(e),o])},c.addUncountableRule=function(e){"string"!=typeof e?(c.addPluralRule(e,"$0"),c.addSingularRule(e,"$0")):o[e.toLowerCase()]=!0},c.addIrregularRule=function(e,r){r=r.toLowerCase(),e=e.toLowerCase(),a[e]=r,t[r]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return c.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return c.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return c.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eÃ©]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(c.addUncountableRule),c}()},2376:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>s});var t=o(3802),a={class:"matrix-page"};var i=o(8401);const n={auth:function(){return{permission:"matrices.create"}},head:{title:function(){return{inner:"Create a Matrix"}}},data:function(){return{matrices:[],form:new i.Z({name:"",parent_id:0,handle:"",description:"",type:"collection",sections:[],sidebar:!0,quicklink:!0,icon:"",show_name_field:!0,name_label:"",name_format:"",route:"",template:"",order_by:"order",order_direction:!0,status:!0},!0),loading:!1}},components:{"shared-form":o(5829).Z},methods:{submit:function(){var e=this;this.loading=!0,this.form.post("/api/matrices").then((function(r){axios.post("/api/blueprints/".concat(r.data.blueprint.id,"/sections"),{sections:e.form.sections}).then((function(r){e.$store.dispatch("navigation/fetchAdminNavigation"),toast("Matrix successfully created","success"),e.$router.push("/matrices")})).catch((function(r){toast(r.message,"failed"),e.loading=!1}))})).catch((function(r){toast(r.message,"failed"),e.loading=!1}))}},beforeRouteEnter:function(e,r,o){axios.all([axios.get("/api/matrices")]).then(axios.spread((function(e){o((function(r){r.matrices=e.data.data}))})))}};const s=(0,o(3744).Z)(n,[["render",function(e,r,o,i,n,s){var l=(0,t.resolveComponent)("page-title"),u=(0,t.resolveComponent)("portal"),m=(0,t.resolveComponent)("shared-form");return(0,t.openBlock)(),(0,t.createElementBlock)("div",a,[(0,t.createVNode)(u,{to:"title"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(l,{icon:"layer-group"},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)("Create Matrix")]}),void 0,!0),_:1})]}),void 0,!0),_:1}),(0,t.createVNode)(m,{loading:n.loading,form:n.form,submit:s.submit,matrices:n.matrices},null,8,["loading","form","submit","matrices"])])}]])},5829:(e,r,o)=>{"use strict";o.d(r,{Z:()=>d});var t=o(3802),a={class:"buttons"},i={class:"row"},n={class:"col w-full lg:w-1/2"},s={class:"col w-full lg:w-1/2"};var l=o(3450),u=o.n(l);const m={data:function(){return{placements:[{label:"Body",value:"body"},{label:"Sidebar",value:"sidebar"}]}},props:{id:{type:Number,required:!1,default:0},form:{type:Object,required:!0},matrix:{type:Object,required:!1},submit:{required:!0},matrices:{required:!0},loading:{type:Boolean,required:!1}},computed:{singularReference:function(){return u().singular(this.form.name)},pluralReference:function(){return u()(this.form.name)},isCollection:function(){return"collection"==this.form.type},orderByOptions:function(){var e=[{label:"ID",value:"id"},{label:"Name",value:"name"},{label:"Slug",value:"slug"},{label:"Manual",value:"order"},{label:"Publish Date",value:"publish_at"},{label:"Created",value:"created_at"},{label:"Last Update",value:"updated_at"}];return _.each(this.form.sections,(function(r){_.each(r.fields,(function(r){null!==r.type.column&&e.push({label:r.name,value:r.handle})}))})),e},parentOptions:function(){var e=this,r=[];return _.each(this.matrices,(function(o){e.id!=o.id&&"single"==o.type&&r.push({label:o.name,value:o.id})})),r.unshift({label:"None",value:0}),r}},watch:{"form.type":function(e){"single"==e?(this.form.show_name_field=!0,this.$store.commit("fieldtypes/setStructure","singles")):this.$store.commit("fieldtypes/setStructure","collections")}},created:function(){this.$store.commit("fieldtypes/setStructure","collections")}};const d=(0,o(3744).Z)(m,[["render",function(e,r,o,l,u,m){var d=(0,t.resolveComponent)("ui-button"),c=(0,t.resolveComponent)("portal"),h=(0,t.resolveComponent)("section-card"),f=(0,t.resolveComponent)("ui-toggle"),p=(0,t.resolveComponent)("sidebar-section"),g=(0,t.resolveComponent)("icon-picker"),b=(0,t.resolveComponent)("status-card"),v=(0,t.resolveComponent)("sidebar"),$=(0,t.resolveComponent)("ui-input-group"),w=(0,t.resolveComponent)("ui-slug-group"),x=(0,t.resolveComponent)("ui-textarea-group"),y=(0,t.resolveComponent)("ui-select-group"),V=(0,t.resolveComponent)("blueprint");return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[(0,t.createVNode)(c,{to:"actions"},{default:(0,t.withCtx)((function(){return[(0,t.createElementVNode)("div",a,["sm"!=e.$mq?((0,t.openBlock)(),(0,t.createBlock)(d,{key:0,to:{name:"matrices"},variant:"secondary"},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)("Go Back")]}),void 0,!0),_:1})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(d,{type:"submit",onClick:(0,t.withModifiers)(o.submit,["prevent"]),variant:"primary",disabled:!o.form.hasChanges||o.loading},{default:(0,t.withCtx)((function(){return[(0,t.createTextVNode)("Save")]}),void 0,!0),_:1},8,["onClick","disabled"])])]}),void 0,!0),_:1}),(0,t.withDirectives)((0,t.createVNode)(h,{title:"Loading..."},null,512),[[t.vShow,o.loading]]),(0,t.createVNode)(c,{to:"sidebar-right"},{default:(0,t.withCtx)((function(){return[(0,t.withDirectives)((0,t.createElementVNode)("div",null,[(0,t.createVNode)(v,{id:"matrix-sidebar"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(p,{id:"matrix_panel_status",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(f,{id:"matrix-status",name:"status",label:"Status",help:o.form.status?"Toggle to disable this matrix.":"Toggle to enable this matrix.","has-error":o.form.errors.has("status"),"error-message":o.form.errors.get("status"),modelValue:o.form.status,"onUpdate:modelValue":r[0]||(r[0]=function(e){return o.form.status=e})},null,8,["help","has-error","error-message","modelValue"])]}),void 0,!0),_:1}),(0,t.createVNode)(p,{id:"matrix_panel_appearance",title:"Appearance",description:"Choose where to show this matrix and how to represent it.",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(f,{id:"matrix-sidebar-show",name:"sidebar",label:"Show in Sidebar","has-error":o.form.errors.has("sidebar"),"error-message":o.form.errors.get("sidebar"),modelValue:o.form.sidebar,"onUpdate:modelValue":r[1]||(r[1]=function(e){return o.form.sidebar=e})},null,8,["has-error","error-message","modelValue"]),(0,t.createVNode)(f,{id:"matrix-quicklink-show",name:"quicklink",label:"Show as Quicklink","has-error":o.form.errors.has("quicklink"),"error-message":o.form.errors.get("quicklink"),modelValue:o.form.quicklink,"onUpdate:modelValue":r[2]||(r[2]=function(e){return o.form.quicklink=e})},null,8,["has-error","error-message","modelValue"]),(0,t.createVNode)(g,{id:"matrix-icon",name:"icon",label:"Icon",placeholder:"Search icons...",help:"Choose an icon that best represents your matrix.","has-error":o.form.errors.has("icon"),"error-message":o.form.errors.get("icon"),modelValue:o.form.icon,"onUpdate:modelValue":r[3]||(r[3]=function(e){return o.form.icon=e})},null,8,["has-error","error-message","modelValue"])]}),void 0,!0),_:1}),o.matrix?((0,t.openBlock)(),(0,t.createBlock)(b,{key:0,entry:o.matrix,id:"matrix_panel_status_card",tabindex:"-1"},null,8,["entry"])):(0,t.createCommentVNode)("",!0)]}),void 0,!0),_:1})],512),[[t.vShow,!o.loading]])]}),void 0,!0),_:1}),(0,t.withDirectives)((0,t.createElementVNode)("div",null,[(0,t.createVNode)(h,{id:"matrix_panel_general",title:"General Information",description:"General information about your collection and what it manages.",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createElementVNode)("div",i,[(0,t.createElementVNode)("div",n,[(0,t.createVNode)($,{id:"matrix-name",name:"name",label:"Name",help:"What should this matrix be called?",autocomplete:"off",autofocus:"",required:"","has-error":o.form.errors.has("name"),"error-message":o.form.errors.get("name"),modelValue:o.form.name,"onUpdate:modelValue":r[4]||(r[4]=function(e){return o.form.name=e})},null,8,["has-error","error-message","modelValue"])]),(0,t.createElementVNode)("div",s,[(0,t.createVNode)(w,{id:"matrix-handle",name:"handle",label:"Handle",help:"A developer-friendly identifier.",monospaced:"",autocomplete:"off",required:"",delimiter:"_",watch:o.form.name,"has-error":o.form.errors.has("handle"),"error-message":o.form.errors.get("handle"),modelValue:o.form.handle,"onUpdate:modelValue":r[5]||(r[5]=function(e){return o.form.handle=e})},null,8,["watch","has-error","error-message","modelValue"])])]),(0,t.createVNode)(x,{id:"matrix-description",name:"description",label:"Description",help:"Give a short description of what this matrix will manage and store.",autocomplete:"off","has-error":o.form.errors.has("description"),"error-message":o.form.errors.get("description"),modelValue:o.form.description,"onUpdate:modelValue":r[6]||(r[6]=function(e){return o.form.description=e})},null,8,["has-error","error-message","modelValue"]),0==o.id?((0,t.openBlock)(),(0,t.createBlock)(y,{key:0,id:"matrix-type",name:"type",label:"Type",help:"What type of matrix will this be?",options:[{label:"Collection",value:"collection"},{label:"Single",value:"single"}],"has-error":o.form.errors.has("type"),"error-message":o.form.errors.get("type"),modelValue:o.form.type,"onUpdate:modelValue":r[7]||(r[7]=function(e){return o.form.type=e})},null,8,["has-error","error-message","modelValue"])):(0,t.createCommentVNode)("",!0),m.isCollection?((0,t.openBlock)(),(0,t.createBlock)(y,{key:1,id:"matrix-parent-id",name:"parent_id",label:"Parent Matrix",help:"Should this matrix belong to another?",options:m.parentOptions,"has-error":o.form.errors.has("parent_id"),"error-message":o.form.errors.get("parent_id"),modelValue:o.form.parent_id,"onUpdate:modelValue":r[8]||(r[8]=function(e){return o.form.parent_id=e})},null,8,["options","has-error","error-message","modelValue"])):(0,t.createCommentVNode)("",!0)]}),void 0,!0),_:1}),(0,t.createVNode)(h,{id:"matrix_panel_customizations",title:"Customizations",description:"Configure the various customizations options.",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)($,{id:"matrix-name-label",name:"name_label",label:"Name Label",placeholder:"Name",help:"If you'd like, you may customize the label used for your entry names.","has-error":o.form.errors.has("name_label"),"error-message":o.form.errors.get("name_label"),modelValue:o.form.name_label,"onUpdate:modelValue":r[9]||(r[9]=function(e){return o.form.name_label=e})},null,8,["has-error","error-message","modelValue"]),m.isCollection?((0,t.openBlock)(),(0,t.createBlock)(f,{key:0,id:"matrix-show-name-field",name:"show_name_field",label:"Show name field",help:o.form.show_name_field?"Include a name field on this matrix.":"Auto-generate a name using the format in the field below.",modelValue:o.form.show_name_field,"onUpdate:modelValue":r[10]||(r[10]=function(e){return o.form.show_name_field=e}),"true-value":1,"false-value":0},null,8,["help","modelValue"])):(0,t.createCommentVNode)("",!0),o.form.show_name_field?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createBlock)($,{key:1,monospaced:"",id:"matrix-name-format",name:"name_format",label:"Name Format",help:"What format would you like your generated names and slugs to follow?",required:"","has-error":o.form.errors.has("name_format"),"error-message":o.form.errors.get("name_format"),modelValue:o.form.name_format,"onUpdate:modelValue":r[11]||(r[11]=function(e){return o.form.name_format=e})},null,8,["has-error","error-message","modelValue"]))]}),void 0,!0),_:1}),m.isCollection?((0,t.openBlock)(),(0,t.createBlock)(h,{key:0,id:"matrix_panel_sort",title:"Default Order",description:"Configure how entries within the collection will be ordered by default.",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(y,{id:"matrix-order_by",name:"order_by",label:"Order By Column",help:"Should this matrix belong to another?",options:m.orderByOptions,"has-error":o.form.errors.has("parent_id"),"error-message":o.form.errors.get("parent_id"),modelValue:o.form.order_by,"onUpdate:modelValue":r[12]||(r[12]=function(e){return o.form.order_by=e})},null,8,["options","has-error","error-message","modelValue"]),(0,t.createVNode)(f,{id:"matrix-order_direction",name:"order_direction",label:"Ascending Order?",help:"Should this collection be sorted in ascending order?","has-error":o.form.errors.has("order_direction"),"error-message":o.form.errors.get("order_direction"),modelValue:o.form.order_direction,"onUpdate:modelValue":r[13]||(r[13]=function(e){return o.form.order_direction=e})},null,8,["has-error","error-message","modelValue"])]}),void 0,!0),_:1})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(h,{id:"matrix_panel_routing",title:"Routing",description:"Configure how entries within the collection will be accessed on the frontend.",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)($,{id:"matrix-route",name:"route",label:"Route",help:"When the URI matches this pattern...",autocomplete:"off",monospaced:"","has-error":o.form.errors.has("route"),"error-message":o.form.errors.get("route"),modelValue:o.form.route,"onUpdate:modelValue":r[14]||(r[14]=function(e){return o.form.route=e})},null,8,["has-error","error-message","modelValue"]),(0,t.createVNode)($,{id:"matrix-template",name:"template",label:"Template",help:"Render this template",autocomplete:"off",monospaced:"","has-error":o.form.errors.has("template"),"error-message":o.form.errors.get("template"),modelValue:o.form.template,"onUpdate:modelValue":r[15]||(r[15]=function(e){return o.form.template=e})},null,8,["has-error","error-message","modelValue"])]}),void 0,!0),_:1}),(0,t.createVNode)(h,{id:"matrix_panel_blueprint",grid:!1,title:"Blueprint",description:"Create the content blueprint for this matrix by adding panel sections and fields to either the page body or page sidebar.",tabindex:"-1"},{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(V,{placements:u.placements,form:o.form},null,8,["placements","form"])]}),void 0,!0),_:1})],512),[[t.vShow,!o.loading]])])}]])}}]);