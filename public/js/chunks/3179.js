"use strict";(self.webpackChunkfusioncms=self.webpackChunkfusioncms||[]).push([[3179],{3179:(t,s,a)=>{a.r(s),a.d(s,{default:()=>e});a(8);const i={head:{title:function(){return{inner:"Insight"}}},data:function(){return{isValid:null,popular:[],browsers:[]}},methods:{determineBrowserIcon:function(t){return{"Android Webview":"android",Chrome:"chrome",Edge:"edge",Firefox:"firefox","Internet Explorer":"internet-explorer",Opera:"opera",Safari:"safari"}[t]||"default"}},mounted:function(){var t=this;axios.get("/api/insights/check").then((function(s){t.isValid="OK"===s.data.status,t.isValid&&axios.all([axios.get("/api/insights/popular"),axios.get("/api/insights/browsers")]).then(axios.spread((function(s,a){t.popular=s.data.data,t.browsers=_.map(a.data.data,(function(s){return{browser:s.browser,sessions:s.sessions,icon:t.determineBrowserIcon(s.browser)}}))}))).catch((function(t){toast(t.data.message,"failed")}))}))}};const e=(0,a(1900).Z)(i,(function(){var t=this,s=t._self._c;return s("div",[s("portal",{attrs:{to:"title"}},[s("page-title",{attrs:{icon:"chart-bar"}},[t._v("Insight")])],1),t._v(" "),null===t.isValid?s("div",{staticClass:"row"},[s("div",{staticClass:"col w-full"},[s("div",{staticClass:"card"},[null===t.isValid?s("div",{staticClass:"card__body text-center"},[s("fa-icon",{staticClass:"fa-spin mr-3",attrs:{icon:["fas","circle-notch"]}}),t._v(" Loading overview...\n                ")],1):t._e()])])]):t._e(),t._v(" "),!1===t.isValid?s("div",{staticClass:"row"},[s("div",{staticClass:"col w-full"},[s("div",{staticClass:"card"},[!1===t.isValid?s("div",{staticClass:"card__body text-center"},[s("p",[t._v("Configure your Google Analytic settings to gain insight about your website "),s("fa-icon",{staticClass:"text-emoji",attrs:{icon:["fas","hand-peace"]}})],1),t._v(" "),s("ui-button",{staticClass:"items-center mr-2",attrs:{to:"/settings/google_analytics#insights"}},[s("fa-icon",{attrs:{icon:["fas","cog"]}}),t._v(" Go to settings")],1)],1):t._e()])])]):t._e(),t._v(" "),t.isValid?s("analytics-overview"):t._e(),t._v(" "),t.isValid?s("div",{staticClass:"row"},[s("div",{staticClass:"col w-full md:w-1/2 mb-6"},[s("div",{staticClass:"table__wrapper"},[t._m(0),t._v(" "),s("table",{staticClass:"table"},[t._m(1),t._v(" "),s("tbody",t._l(t.popular,(function(a){return s("tr",{key:a.url},[s("td",[s("span",{staticClass:"column__label"},[t._v("Page")]),t._v(" "),s("span",[t._v("\n                                    "+t._s(a.url)+"\n                                ")])]),t._v(" "),s("td",{staticClass:"column__stat actions"},[s("a",{staticClass:"text-gray-800 hover:text-gray-900 mr-4",attrs:{href:a.url,target:"_blank"}},[s("fa-icon",{attrs:{icon:["fas","arrow-alt-circle-right"]}})],1)]),t._v(" "),s("td",{staticClass:"column__stat"},[s("span",{staticClass:"column__label"},[t._v("Views")]),t._v(" "),s("span",[t._v(t._s(a.pageViews))])])])})),0)])])]),t._v(" "),s("div",{staticClass:"col w-full md:w-1/2 mb-6"},[s("div",{staticClass:"table__wrapper"},[t._m(2),t._v(" "),s("table",{staticClass:"table"},[t._m(3),t._v(" "),s("tbody",t._l(t.browsers,(function(a){return s("tr",{key:a.browser},[s("td",[s("span",{staticClass:"column__label"},[t._v("Browser")]),t._v(" "),s("span",[s("span",{staticClass:"text-gray-800 hover:text-gray-900 mr-2"},["default"==a.icon?s("fa-icon",{staticClass:"fa-fw",attrs:{icon:["fas","globe"]}}):s("fa-icon",{staticClass:"fa-fw",attrs:{icon:["fab",a.icon]}})],1),t._v("\n\n                                    "+t._s(a.browser)+"\n                                ")])]),t._v(" "),s("td",{staticClass:"column__stat"},[s("span",{staticClass:"column__label"},[t._v("Sessions")]),t._v(" "),s("span",[t._v(t._s(a.sessions))])])])})),0)])])])]):t._e()],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"card__header"},[t("h3",{staticClass:"card__title"},[this._v("Popular Pages")])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",[t._v("Page")]),t._v(" "),s("th",{staticClass:"w-10"}),t._v(" "),s("th",{staticClass:"column__stat"},[t._v("Views")])])])},function(){var t=this._self._c;return t("div",{staticClass:"card__header"},[t("h3",{staticClass:"card__title"},[this._v("Browsers")])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",[t._v("Browser")]),t._v(" "),s("th",{staticClass:"column__stat"},[t._v("Sessions")])])])}],!1,null,null,null).exports}}]);